---
title: '返してよ！私のピッチフォークの点数！'
published: true
draft: false
date: 20200825
ogp: 'https://firebasestorage.googleapis.com/v0/b/titanic-rising.appspot.com/o/4e1863811e5488433270988ae82a928f.jpg?alt=media&token=c87578ee-32df-4662-b0a9-8bb257f001d3'
tag:
  - Music
  - Tech
---

import { Video } from 'src/components/Video'

皆さん今日も音楽レビューサイトみてますか？

僕は多分あまりみない方なんですがなぜかピッチフォークだけはチェックしてしまいます。

なんかあの文章ちょっとうざいけどクセになるんですよね。

しかしデメリットがあって、ピッチフォークはレビューの一番上にアルバムの点数がどーんと出てしまっているんですよね。

こんな感じ ↓ 点数は 10 点満点。ちなみに 10 点は 10 年に 1 回くらいのレアさ。

<img
  width={760}
  height={1384}
  src={`https://res.cloudinary.com/dw86z2fnr/image/upload/v1620383432/titanicrising.jp/gmb-pichfork/_2020-08-25_22.52.05_ntneoj.png`}
/>

なんかこう点数みちゃうとなんかその後の文章が点数のインパクトに負けちゃうというかなんというかさ…

まあ点数ありきなのでそういうもんなんだけどさ…

## 点数、いらなくね？

というわけで今回はいつもの TypeScript を使ってピッチフォークの全アルバムの点数を消す Chrome プラグインを作っていきましょう。

でもまあただ消すだけじゃつまんないので全部 10 点にしましょう。

適当にググったらちょうど良さそうなスターターあったのでこれ使っていく。

[!!BOOKMARK!!chibat/chrome-extension-typescript-starter](https://github.com/chibat/chrome-extension-typescript-starter)

本当はトグルとかつけて運用しやすくしようと思ったけどクソアプリに時間かけたくないので却下。

content_script にクソコード書き殴って終了。

本当は manifest.json にしっかり設定書いて特定サイトでのみ動くようにしなきゃだめですね…

```tsx
// src/content_script.ts

const currentLocation = window.location.href
const isPitchFork: boolean = currentLocation.includes('pitchfork')

if (isPitchFork) {
  const pitchforkScore = document.querySelector('.score')
  pitchforkScore.innerHTML = pitchforkScore && '10'
}
```

## 動けばええんや

Extension 有効にすると一応クソコードが動いているのがわかる。

<img
  width={748}
  height={1080}
  src={`https://res.cloudinary.com/dw86z2fnr/image/upload/v1620383432/titanicrising.jp/gmb-pichfork/_2020-08-26_0.59.53_n1an9d.png`}
/>

動画だとこんな感じ。

え？「一瞬マジの点数が見えちゃってる？」だって？

<Video width={296} height={640} src={`/videos/blog/m5axc-hxys1.mp4`} />

拡張機能クソなのだったら 2 分で作れて最高。

ピッチフォーク、React なんだよね。好きよ。

[Pitchfork](https://pitchfork.com/)
